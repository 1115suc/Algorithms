# ğŸ›¡ï¸ å•å‘é“¾è¡¨(å“¨å…µ)ä¼˜åŒ–

## ğŸ¯ é—®é¢˜èƒŒæ™¯

è§‚å¯Ÿä¹‹å‰å•å‘é“¾è¡¨çš„å®ç°ï¼Œå‘ç°æ¯ä¸ªæ–¹æ³•å†…å‡ ä¹éƒ½æœ‰åˆ¤æ–­æ˜¯ä¸æ˜¯ `head` è¿™æ ·çš„ä»£ç ï¼Œç°åœ¨æˆ‘ä»¬å°†ä»–ç®€åŒ–æ‰ ğŸ˜Š

---

## ğŸ—ï¸ åˆ›å»ºå“¨å…µç±» `SinglyLinkedListSentinel`

ç”¨ä¸€ä¸ªä¸å‚ä¸æ•°æ®å­˜å‚¨çš„ç‰¹æ®Š `Node` ä½œä¸ºå“¨å…µï¼Œå®ƒä¸€èˆ¬è¢«ç§°ä¸ºå“¨å…µæˆ–å“‘å…ƒï¼Œæ‹¥æœ‰å“¨å…µèŠ‚ç‚¹çš„é“¾è¡¨ç§°ä¸ºå¸¦å¤´é“¾è¡¨

```java
public class SinglyLinkedListSentinel {
    // ...
    private Node head = new Node(Integer.MIN_VALUE, null);
}
```


### ğŸ’¡ è®¾è®¡è¦ç‚¹ï¼š
* å…·ä½“å­˜ä»€ä¹ˆå€¼æ— æ‰€è°“ï¼Œå› ä¸ºä¸ä¼šç”¨åˆ°å®ƒçš„å€¼

åŠ å…¥å“¨å…µèŠ‚ç‚¹åï¼Œä»£ç ä¼šå˜å¾—æ¯”è¾ƒç®€å•ï¼Œå…ˆçœ‹å‡ ä¸ªå·¥å…·æ–¹æ³• ğŸ‘‡

```java
public class SinglyLinkedListSentinel {
    // ...
    
    // æ ¹æ®ç´¢å¼•è·å–èŠ‚ç‚¹
    private Node findNode(int index) {
        int i = -1;
        for (Node curr = this.head; curr != null; curr = curr.next, i++) {
            if (i == index) {
                return curr;
            }
        }
        return null;
    }
    
    // è·å–æœ€åä¸€ä¸ªèŠ‚ç‚¹
    private Node findLast() {
        Node curr;
        for (curr = this.head; curr.next != null; ) {
            curr = curr.next;
        }
        return curr;
    }
}
```


### ğŸ“ æ”¹è¿›è¯´æ˜ï¼š
* `findNode` ä¸ä¹‹å‰ç±»ä¼¼ï¼Œåªæ˜¯ `i` åˆå§‹å€¼è®¾ç½®ä¸º `-1` å¯¹åº”å“¨å…µï¼Œå®é™…ä¼ å…¥çš„ `index` ä¹Ÿæ˜¯ $[-1, \infty)$
* `findLast` ç»ä¸ä¼šè¿”å› `null` äº†ï¼Œå°±ç®—æ²¡æœ‰å…¶å®ƒèŠ‚ç‚¹ï¼Œä¹Ÿä¼šè¿”å›å“¨å…µä½œä¸ºæœ€åä¸€ä¸ªèŠ‚ç‚¹

---

## ğŸ”§ ä¼˜åŒ–åçš„æ ¸å¿ƒæ–¹æ³•

è¿™æ ·ï¼Œä»£ç ç®€åŒ–ä¸ºï¼š

```java
public class SinglyLinkedListSentinel {
    // ...
    
    public void addLast(int value) {
        Node last = findLast();
        /*
        æ”¹åŠ¨å‰
        if (last == null) {
            this.head = new Node(value, null);
            return;
        }
        */
        last.next = new Node(value, null);
    }
    
    public void insert(int index, int value) {
        /*
        æ”¹åŠ¨å‰
        if (index == 0) {
            this.head = new Node(value, this.head);
            return;
        }
        */
        // index ä¼ å…¥ 0 æ—¶ï¼Œè¿”å›çš„æ˜¯å“¨å…µ
        Node prev = findNode(index - 1);
        if (prev != null) {
            prev.next = new Node(value, prev.next);
        } else {
            throw illegalIndex(index);
        }
    }
    
    public void remove(int index) {
        /*
        æ”¹åŠ¨å‰
        if (index == 0) {
            if (this.head != null) {
                this.head = this.head.next;
                return;
            } else {
                throw illegalIndex(index);
            }
        }
        */
        // index ä¼ å…¥ 0 æ—¶ï¼Œè¿”å›çš„æ˜¯å“¨å…µ
        Node prev = findNode(index - 1);
        Node curr;
        if (prev != null && (curr = prev.next) != null) {
            prev.next = curr.next;
        } else {
            throw illegalIndex(index);
        }
    }
    
    public void addFirst(int value) {
        /*
        æ”¹åŠ¨å‰
        this.head = new Node(value, this.head);
        */
		this.head.next = new Node(value, this.head.next);
        // ä¹Ÿå¯ä»¥è§†ä¸º insert çš„ç‰¹ä¾‹, å³ insert(0, value);
    }
}
```


### ğŸ‰ ä¼˜åŒ–æ•ˆæœï¼š
* å¯¹äºåˆ é™¤ï¼Œå‰é¢è¯´äº†ã€æœ€åä¸€ä¸ª if å—å¯¹åº”ç€è‡³å°‘å¾—ä¸¤ä¸ªèŠ‚ç‚¹çš„æƒ…å†µã€‘ï¼Œç°åœ¨æœ‰äº†å“¨å…µï¼Œå°±å‡‘è¶³äº†ä¸¤ä¸ªèŠ‚ç‚¹ âœ…
* ä»£ç æ›´åŠ ç®€æ´ï¼Œé¿å…äº†å¤§é‡çš„è¾¹ç•Œæ¡ä»¶åˆ¤æ–­ ğŸš€